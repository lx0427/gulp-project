var tool = {
  judgeHasOpenid: function() {
    var url = ''
    if (isWeixinBrowse() && !isNull(sessionStorage.getItem('wxOpenid'))) {
      url =
        oauthServerPath +
        '/weixin/jsapi/wxurl.htm?circleId=' +
        circleId +
        '&oauthType=hengyiShoppingCart'
    }
    return url
  },
  post: function(url, data, cb, comcb) {
    $.ajax({
      url: url,
      type: 'POST',
      async: true,
      // processData: false,
      // contentType: false,
      data: data,
      dataType: 'json',
      success: function(data) {
        cb && cb(data)
      },
      error: function(err) {
        console.log(url, ': ', err)
      },
      complete: function(data) {
        comcb && comcb()
      }
    })
  },
  parse: function(str) {
    var obj = {}
    var arr = str.split('&')
    arr.forEach(function(v) {
      var temp = v.split('=')
      obj[temp[0]] = temp[1]
    })
    return obj
  },
  stringify: function(obj) {
    var str = ''
    for (var key in obj) {
      if (obj.hasOwnProperty(key)) {
        if (!str) {
          str = key + '=' + obj[key]
        } else {
          str = str + '&' + key + '=' + obj[key]
        }
      }
    }
    return str
  }
}
