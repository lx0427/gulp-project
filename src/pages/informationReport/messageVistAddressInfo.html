<!DOCTYPE html>
<html>

<head>
  <title>拜访地信息详情</title>
  <% include ../../components/_head.art %>
  <link rel="stylesheet" href="../../css/weui-select.min.css">
  <style>
    .wx_main {
      top: 65px;
    }

    .wx_searchbox .searchbg {
      opacity: 1;
      border-radius: 4px;
    }

    .wx_searchbox .search_s {
      color: #3e7baf;
    }

    .wrapper {
      height: 25px;
    }

    .wrapper li {
      float: left;
      width: 25px;
      height: 6px;
      background: url(../../images/star.png) 0 0px no-repeat;
    }

    /*开始默认选中*/
    .xxfk_cpx {
      padding-left: 3px;
    }

    .xbs i {
      color: #f00;
      font-style: normal;
      padding-right: 3px;
    }

    .zl i {
      color: #f00;
      font-style: normal;
      padding-right: 3px;
    }

    .xxfk_cpx {
      padding-left: 10px;
    }

    .cpx_label {
      display: block;
      padding-left: 50px;
    }

    .xxfk_cpx .cpx_label span {
      padding: 1px 8px;
    }

    .zlbox {
      padding-top: 2px;
      padding-bottom: 2px;
      padding-left: 68px;
    }

    #img_ul img {
      width: 75px;
      height: 75px;
    }

    .fillbox .zlbox input {
      box-sizing: border-box;
      padding-left: 35px;
    }

    .pop-up {
      margin-top: 0px;
      width: 80%;
      left: 10%;
    }

    .fillbox dt input.input {
      border-bottom: 1px solid #ccc;
      width: 100%;
      padding: 0px 5px;
      text-align: left;
    }

    .fillbox .zlbox input {
      border-bottom: 1px solid #ccc;
      width: 100%;
      padding: 0px 5px;
      text-align: left;
    }

    .need_product {
      border-bottom: solid 1px #ccc;
      border-bottom-style: dashed;
      padding: 10px 0px;
    }

    .wx_tasdelist li .fillbox {
      border-bottom: none;
    }

    .fillbox .zlbox {
      padding-left: 70px;
      border-right: none;
      width: 100%;
    }

    .wx_tasdelist li {
      border: none;
    }

    .xxfk_cpx {
      border: none;
    }

    .xxfk_khqc {
      font-weight: bold;
      border-bottom-style: dashed;
    }

    .xxfk_box .xxfk_location {
      border-bottom-style: dashed;
    }

    .fillbox .zlbox .kg,
    .fillbox .zlbox .zl {
      color: #3e7baf;
    }

    .ggspan {
      color: #3e7baf;
      font-size: 1.4rem;
    }

    .ggtextarea {
      width: 69%;
      margin-left: 8px;
    }

    .wx_suggest .item .reply {
      padding: 0px;
    }

    .info_assess_content {
      margin-top: 10px;
    }

    .hy_xxsb {
      display: none;
    }
  </style>


  <script>
    /**
     * 文本框根据输入内容自适应高度
     * @param                {HTMLElement}        输入框元素
     * @param                {Number}                设置光标与输入框保持的距离(默认0)
     * @param                {Number}                设置最大高度(可选)
     */
    var autoTextarea = function (elem, extra, maxHeight) {
      extra = extra || 0;
      var isFirefox = !!document.getBoxObjectFor || 'mozInnerScreenX' in window,
        isOpera = !!window.opera && !!window.opera.toString().indexOf('Opera'),
        addEvent = function (type, callback) {
          elem.addEventListener ?
            elem.addEventListener(type, callback, false) :
            elem.attachEvent('on' + type, callback);
        },
        getStyle = elem.currentStyle ? function (name) {
          var val = elem.currentStyle[name];
          if (name === 'height' && val.search(/px/i) !== 1) {
            var rect = elem.getBoundingClientRect();
            return rect.bottom - rect.top -
              parseFloat(getStyle('paddingTop')) -
              parseFloat(getStyle('paddingBottom')) + 'px';
          };
          return val;
        } : function (name) {
          return getComputedStyle(elem, null)[name];
        },
        minHeight = parseFloat(getStyle('height'));
      elem.style.resize = 'none';
      var change = function () {
        var scrollTop, height,
          padding = 0,
          style = elem.style;
        if (elem._length === elem.value.length) return;
        elem._length = elem.value.length;
        if (!isFirefox && !isOpera) {
          padding = parseInt(getStyle('paddingTop')) + parseInt(getStyle('paddingBottom'));
        };
        scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
        elem.style.height = minHeight + 'px';
        if (elem.scrollHeight > minHeight) {
          if (maxHeight && elem.scrollHeight > maxHeight) {
            height = maxHeight - padding + 20;
            style.overflowY = 'auto';
          } else {
            height = elem.scrollHeight - padding + 20;
            style.overflowY = 'hidden';
          };
          style.height = height + extra + 'px';
          scrollTop += parseInt(style.height) - elem.currHeight;
          document.body.scrollTop = scrollTop;
          document.documentElement.scrollTop = scrollTop;
          elem.currHeight = parseInt(style.height);
        };
      };
      addEvent('propertychange', change);
      addEvent('input', change);
      addEvent('focus', change);
      change();
    };
  </script>
</head>

<body>

  <header class="wx_ssjgsite wx_ssjgsite1">
    <div class="head_xxfk">
      <p id="title_text">拜访信息</p>
    </div>
  </header>
  <article class="wx_layout" style="top: 65px;">
    <div class="wx_suggest ssjlist" id="contentDiv">

    </div>
    <div class="wx_suggest ssjlist" id="contentDiv1">

    </div>

    <div class="wx_suggest ssjlist" id="main">

    </div>
    <div class="wx_suggest ssjlist" id="main1">

    </div>
    <p class="c3d729e history" id="revocation" style="display: none; text-align: center;" onclick="toRevocation()"><i
        class="iconfont">&#xeab1;</i>撤销</p>
  </article>
  <!-- 上报人查看内容 -->
  <script id="contentDiv_page" type="text/html">
    <qnm1 style="display:block;">
      <div class="xxfk_box">
        <p class="xxfk_location" ><i class="iconfont icon-address"></i>{{data.placeInfo}}</p>

        <p class="xxfk_khqc"><span>客户全称：</span><input style=" text-align: left;font-weight: bold;" type="text" value="{{data.customerName}}"  readonly="readonly"/></p>
      
      <ul class="wx_tasdelist">
        <li style="padding-left: 0px;border-bottom: 1px solid #ccc; border-bottom-style: dashed;">
        <dl class="fillbox">
          <dt class="zlbox" style="padding-left: 53px;">
          <span class="zl">业务员：</span>
          <input type="text" style="border-bottom: none; color: #3e7baf;" value="{{data.reportUserName}}" readonly="readonly"/>
          </dt>
        </dl>
        </li>
        <li style="padding-left: 0px;border-bottom: 1px solid #ccc; border-bottom-style: dashed;">
        <dl class="fillbox">
          <dt class="zlbox" style="padding-left: 53px;">
          <span class="zl">时间：</span>
          <input type="text" style="border-bottom: none; color: #3e7baf;" value="{{#getDate(data.cdate,"yyyy-MM-dd HH:mm:ss")}}" readonly="readonly"/>
          </dt>
        </dl>
        </li>
        {{if data.customerType==1}}
        <li style="padding-left: 0px;border-bottom: 1px solid #ccc; border-bottom-style: dashed;">
        <dl class="fillbox">
          <dt class="zlbox" style="padding-left: 53px;">
          <span class="zl">产品线：</span>
          <input type="text" style="border-bottom: none; color: #3e7baf;" value="{{data.informationSources}}" readonly="readonly"/>
          </dt>
        </dl>
        </li>
        {{/if}}
      </ul>

        {{if data.customerType==0}}
        <div id="newCustomer">
          <ul class="wx_tasdelist need_product" >
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">联系人</span>
                <input type="text" value="{{data.linkman}}" readonly="readonly" id="linkman" name="linkman"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">职位</span>
                <input type="text" value="{{data.positionInfo}}" readonly="readonly" id="positionInfo" name="positionInfo">
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">联系电话</span>
                <input type="text" value="{{data.telphoneNumble}}" readonly="readonly" id="telphoneNumble" name="telphoneNumble"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">客户规模</span>
                <input type="text" value="{{data.customerScale}}" readonly="readonly" id="customerScale" name="customerScale">
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox" style="padding-left: 83px;">
                <span class="zl">客户营业额</span>
                <input type="text" value="{{data.customerTurnover}}" readonly="readonly" id="customerTurnover" name="customerTurnover"/>
                </dt>
              </dl>
              </dl>
            </li>
           <li style="height: 10px;"></li>
          </ul>
        {{each data.informationReportsMx as value i}}
          <ul class="wx_tasdelist need_product">
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">需求产品</span>
                <input type="text" value="{{value.needProduct}}" readonly="readonly" id="needProduct" name="needProduct"/>
                </dt>
              </dl>
            </li>
             <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">设备类型</span>
                <input type="text" value="{{value.machineType}}" id="machineType" name="machineType"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">竞争对手</span>
                <input type="text" value="{{value.competitor}}" id="competitor1" name="competitor">
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">下游市场</span>
                <input type="text" value="{{value.downstreamMarket}}" id="downstreamMarket" name="downstreamMarket"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">原料档次</span>
                <input type="text" value="{{value.materialGrade}}" id="materialGrade" name="materialGrade"/>
                </dt>
              </dl>
            </li>            
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">差异化</span>
                <input type="text" value="{{value.diffFlag}}" id="diffFlag" name="diffFlag"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px; margin-top: 5px;">
                <span class="zl ggspan">采购规格</span>
                 <textarea rows="3" class="xxfk_remark ggtextarea">{{value.materialGg}}</textarea>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">月需求量</span>
                <input type="text" value="{{value.needAmount}}" id="needAmount" name="needAmount"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">机台数量</span>
                <input type="number" value="{{value.machineNum}}" readonly="readonly" id="machineNum1" name="machineNum"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px; margin-top: 5px;">
                <span class="zl ggspan">市场区域</span>
                 <textarea rows="3" class="xxfk_remark ggtextarea">{{value.marketArea}}</textarea>
            </li>
           </ul>
          {{/each}}
          </div>
        {{else}}
        <ul class="wx_tasdelist" id="oldCustomer">
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox" style="padding-left: 70px;">
              <span class="zl">设备类型</span>
              <input type="text" style="padding-right: 25px;" id="machineType" value="{{data.machineType}}" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px; margin-top: 5px;">
              <span class="zl ggspan">采购规格</span>
               <textarea rows="3" class="xxfk_remark ggtextarea">{{data.materialGg}}</textarea>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox" style="padding-left: 70px;">
              <span class="zl">月需求量</span>
              <input type="text" style="padding-right: 25px;" value="{{data.monthlyDemand}}" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">原料档次</span>
              <input type="text" value="{{data.materialGrade}}" id="materialGrade" readonly="readonly" name="materialGrade" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">价值评估</span>
              <input type="text" value="{{data.priceEvaluate}}" id="priceEvaluate" readonly="readonly" name="priceEvaluate">
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">竞争对手</span>
              <input type="text" value="{{data.competitor}}" id="competitor" readonly="readonly" name="competitor" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">下游市场</span>
              <input type="text" value="{{data.downstreamMarket}}" id="downstreamMarket" name="downstreamMarket"/>
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">市场预判</span>
              <input type="text" value="{{data.marketPrediction}}" id="marketPrediction" readonly="readonly" name="machineType" />
              </dt>
             </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">差异化</span>
              <input type="text" value="{{data.diffFlag}}" id="diffFlag" readonly="readonly" name="diffFlag" />
              </dt>
             </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">机台数量</span>
              <input type="text" value="{{data.machineNum}}" id="machineNum" readonly="readonly" name="machineNum" />
              </dt>
             </dl>
          </li>
          <li style="padding-left: 0px; margin-top: 5px;">
                <span class="zl ggspan">市场区域</span>
                 <textarea rows="3" class="xxfk_remark ggtextarea">{{data.marketArea}}</textarea>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">产品库存</span>
              <input type="text" value="{{data.productInventory}}" id="productInventory" readonly="readonly" name="productInventory" />
              </dt>
            </dl>
          </li>
         </ul>
        {{/if}}
      </div>
      
      {{if data.problem != null || data.uploadAppendageAddress != null}}        
      <div class="xxfk_bz">
        <p class="xxfk_bz_title"><span></span>其他备注</p>
        <input type="hidden" id="complaintImages" value="{{data.complaintImages}}"/>
        {{if data.problem != null}}
        <div style="width: 100%;height: max-content;border: solid 1px #999;">{{#toTextarea(data.problem)}}</div>
        {{/if}}
        <div class="info_img" style="width:100%;margin-bottom: -20px;">
          <!--图片路径，可能多张,逗号分隔-->
          {{if data.uploadAppendageAddress != null }}
          <ul class="wx_qdphoto wx_cjht" id="img_ul" style="margin-bottom: 10px;">
          {{#getImg(data.uploadAppendageAddress)}} </ul>
          {{/if}}
        </div>
      </div>
      {{/if}}
    </qnm1>
</script>

  <!-- 接收人查看内容 -->
  <script id="contentDiv1_page" type="text/html">
    <qnm1 style="display:block;">
      <div class="xxfk_box">
        <p class="xxfk_location" ><i class="iconfont icon-address"></i>{{data.informationReports.placeInfo}}</p>

        <p class="xxfk_khqc"><span>客户全称：</span><input style=" text-align: left;font-weight: bold;" type="text" value="{{data.informationReports.customerName}}"  readonly="readonly"/></p>
      
      <ul class="wx_tasdelist">
        <li style="padding-left: 0px;border-bottom: 1px solid #ccc; border-bottom-style: dashed;">
        <dl class="fillbox">
          <dt class="zlbox" style="padding-left: 53px;">
          <span class="zl">业务员：</span>
          <input type="text" style="border-bottom: none; color: #3e7baf;" value="{{data.informationReports.reportUserName}}" readonly="readonly"/>
          </dt>
        </dl>
        </li>
        <li style="padding-left: 0px;border-bottom: 1px solid #ccc; border-bottom-style: dashed;">
        <dl class="fillbox">
          <dt class="zlbox" style="padding-left: 53px;">
          <span class="zl">所属产品线：</span>
          <input type="text" style="border-bottom: none; color: #3e7baf;padding-left: 41px;" value="{{data.informationReports.productLine}}" readonly="readonly"/>
          </dt>
        </dl>
        </li>
        <li style="padding-left: 0px;border-bottom: 1px solid #ccc; border-bottom-style: dashed;">
        <dl class="fillbox">
          <dt class="zlbox" style="padding-left: 53px;">
          <span class="zl">时间：</span>
          <input type="text" style="border-bottom: none; color: #3e7baf;" value="{{#getDate(data.cdate,"yyyy-MM-dd HH:mm:ss")}}" readonly="readonly"/>
          </dt>
        </dl>
        </li>
        {{if data.customerType==1}}
        <li style="padding-left: 0px;border-bottom: 1px solid #ccc; border-bottom-style: dashed;">
        <dl class="fillbox">
          <dt class="zlbox" style="padding-left: 53px;">
          <span class="zl">产品线：</span>
          <input type="text" style="border-bottom: none; color: #3e7baf;" value="{{data.informationReports.informationSources}}" readonly="readonly"/>
          </dt>
        </dl>
        </li>
        {{/if}}
      </ul>

        {{if data.informationReports != null && data.informationReports.customerType==0}}
        <div id="newCustomer">
          <ul class="wx_tasdelist need_product" >
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">联系人</span>
                <input type="text" value="{{data.informationReports.linkman}}" readonly="readonly" id="linkman" name="linkman"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">职位</span>
                <input type="text" value="{{data.informationReports.positionInfo}}" readonly="readonly" id="positionInfo" name="positionInfo">
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">联系电话</span>
                <input type="text" value="{{data.informationReports.telphoneNumble}}" readonly="readonly" id="telphoneNumble" name="telphoneNumble"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">客户规模</span>
                <input type="text" value="{{data.informationReports.customerScale}}" readonly="readonly" id="customerScale" name="customerScale">
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox" style="padding-left: 83px;">
                <span class="zl">客户营业额</span>
                <input type="text" value="{{data.informationReports.customerTurnover}}" readonly="readonly" id="customerTurnover" name="customerTurnover"/>
                </dt>
              </dl>
              </dl>
            </li>
           <li style="height: 10px;"></li>
          </ul>
        {{each data.informationReports.informationReportsMx as value i}}
          <ul class="wx_tasdelist need_product">
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">需求产品</span>
                <input type="text" value="{{value.needProduct}}" readonly="readonly" id="needProduct" name="needProduct"/>
                </dt>
              </dl>
            </li>
             <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">设备类型</span>
                <input type="text" value="{{value.machineType}}" id="machineType" name="machineType"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">竞争对手</span>
                <input type="text" value="{{value.competitor}}" id="competitor1" name="competitor">
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">下游市场</span>
                <input type="text" value="{{value.downstreamMarket}}" id="downstreamMarket" name="downstreamMarket"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">原料档次</span>
                <input type="text" value="{{value.materialGrade}}" id="materialGrade" name="materialGrade"/>
                </dt>
              </dl>
            </li>            
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">差异化</span>
                <input type="text" value="{{value.diffFlag}}" id="diffFlag" name="diffFlag"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px; margin-top: 5px;">
                <span class="zl ggspan">采购规格</span>
                 <textarea rows="3" class="xxfk_remark ggtextarea">{{value.materialGg}}</textarea>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">月需求量</span>
                <input type="text" value="{{value.needAmount}}" id="needAmount" name="needAmount"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px;">
              <dl class="fillbox">
                <dt class="zlbox">
                <span class="zl">机台数量</span>
                <input type="number" value="{{value.machineNum}}" readonly="readonly" id="machineNum1" name="machineNum"/>
                </dt>
              </dl>
            </li>
            <li style="padding-left: 0px; margin-top: 5px;">
                <span class="zl ggspan">市场区域</span>
                 <textarea rows="3" class="xxfk_remark ggtextarea">{{value.marketArea}}</textarea>
            </li>
           </ul>
          {{/each}}
          </div>
        {{else}}
        <ul class="wx_tasdelist" id="oldCustomer">
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox" style="padding-left: 70px;">
              <span class="zl">设备类型</span>
              <input type="text" style="padding-right: 25px;" id="machineType" value="{{data.informationReports.machineType}}" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px; margin-top: 5px;">
              <span class="zl ggspan">采购规格</span>
               <textarea rows="3" class="xxfk_remark ggtextarea">{{data.informationReports.materialGg}}</textarea>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox" style="padding-left: 70px;">
              <span class="zl">月需求量</span>
              <input type="text" style="padding-right: 25px;" value="{{data.informationReports.monthlyDemand}}" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">原料档次</span>
              <input type="text" value="{{data.informationReports.materialGrade}}" id="materialGrade" readonly="readonly" name="materialGrade" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">价值评估</span>
              <input type="text" value="{{data.informationReports.priceEvaluate}}" id="priceEvaluate" readonly="readonly" name="priceEvaluate">
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">竞争对手</span>
              <input type="text" value="{{data.informationReports.competitor}}" id="competitor" readonly="readonly" name="competitor" />
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">下游市场</span>
              <input type="text" value="{{data.informationReports.downstreamMarket}}" id="downstreamMarket" name="downstreamMarket"/>
              </dt>
            </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">市场预判</span>
              <input type="text" value="{{data.informationReports.marketPrediction}}" id="marketPrediction" readonly="readonly" name="machineType" />
              </dt>
             </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">差异化</span>
              <input type="text" value="{{data.informationReports.diffFlag}}" id="diffFlag" readonly="readonly" name="diffFlag" />
              </dt>
             </dl>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">机台数量</span>
              <input type="text" value="{{data.informationReports.machineNum}}" id="machineNum" readonly="readonly" name="machineNum" />
              </dt>
             </dl>
          </li>
          <li style="padding-left: 0px; margin-top: 5px;">
                <span class="zl ggspan">市场区域</span>
                 <textarea rows="3" class="xxfk_remark ggtextarea">{{data.informationReports.marketArea}}</textarea>
          </li>
          <li style="padding-left: 0px;">
            <dl class="fillbox">
              <dt class="zlbox">
              <span class="zl">产品库存</span>
              <input type="text" value="{{data.informationReports.productInventory}}" id="productInventory" readonly="readonly" name="productInventory" />
              </dt>
            </dl>
          </li>
         </ul>
        {{/if}}
      </div>

      {{if data.informationReports.problem != null || data.informationReports.uploadAppendageAddress != null}}            
      <div class="xxfk_bz">
        <p class="xxfk_bz_title"><span></span>其他备注</p>
        <input type="hidden" id="complaintImages" value="{{data.informationReports.complaintImages}}"/>
        <div style="width: 100%;height: max-content;">{{#toTextarea(data.informationReports.problem)}}</div>
        <div class="info_img" style="width:100%;margin-bottom: -20px;">
          <!--图片路径，可能多张,逗号分隔-->
          {{if data.informationReports.uploadAppendageAddress != null }}
          <ul class="wx_qdphoto wx_cjht" id="img_ul" style="margin-bottom: 10px;">
          {{#getImg(data.informationReports.uploadAppendageAddress)}} </ul>
          {{/if}}
        </div>
      </div>
      {{/if}}
    </qnm1>
</script>

  <!-- 上报人查看 评分区 -->
  <script id="main_page" type="text/html">
  <div class="item">
      <div class="inner">
      {{each list as value i}}
        <div class="cont">
          <ul class="list">
            <li>
              <dl>
                <dt>{{value.receiveUserName}}</dt>
                
                <dd class="evaluate">
                    <span class="tl">综合评价</span>
                    {{if value.starts==null}}
                      未评论
                    {{/if}}
                    {{if value.starts==1 }}
                    <ul class="wrapper">
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">非常差</span></li>
                    </ul>    
                    {{/if}}
                     {{if value.starts==2 }}
                    <ul class="wrapper">
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">较差</span></li>
                    </ul>    
                    {{/if}}
                     {{if value.starts==3 }}
                    <ul class="wrapper">
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">一般</span></li>
                    </ul>    
                    {{/if}}
                     {{if value.starts==4 }}
                    <ul class="wrapper">
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px -20px;"></li>
                      <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">较好</span></li>
                    </ul>  
                    {{/if}}
                     {{if value.starts==5 }}
                    <ul class="wrapper">
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li class="li" style="background-position: 0px 0px;"></li>
                      <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">非常好</span></li>
                    </ul>    
                    {{/if}}
                </dd>
                {{if value.remartk != null}}
                <p class="info_assess_content">{{value.receiveUserName}} : {{value.remartk}}</p>
                {{/if}}

                {{if value.commentList != null && value.commentList.length>0}}
                {{each value.commentList as item i}}
                <p class="info_assess_content">{{item.userName}} : {{item.content}}</p>
                {{/each}}
                {{/if}}
              </dl>
            </li>
          </ul>
          <div class="reply">
            <div class="box">
              <textarea placeholder="请输入您的内容（不超过300字）" id="remark_{{i}}"></textarea>
            </div>
            <p class="btn">
              <a class="replybtn" href="javascript:void(0)" onclick="saveReply('{{value.pkid}}', '{{i}}', '{{value.starts}}', '{{value.receiveUserId}}', '{{value.reportId}}')">回复</a>
              <a class="cancelbtn" href="javascript:void(0)" onclick="cleanContent('{{i}}')">取消</a>
            </p>
          </div>
        </div>
      {{/each}}
      </div>
    </div>
</script>

  <!-- 接收人查看 评分区 -->
  <script id="main1_page" type="text/html">
  <div class="item">
      <div class="inner">
        <div class="cont">
          <ul class="list">
            <li>
              <dl>
                <dt>{{data.receiveUserName}}</dt>
                {{if data.starts==null}}
                <div  id="t_startsNum">
                    <span style="float: left;font-size: 1.2rem; padding-top: 2px;">综合评价</span>
                    <span style="float: right; padding-right: 10%; padding-top: 1px; color: #ffad51; font-size: 1.2rem;" id="evaluateInfo">请打分(最少一颗星)</span>
                  <ul class="wrapper" >
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                  </ul>
                 <input type="hidden" id="startsNum" value="0">
                </div>
                {{/if}}
                {{if data.starts==1 }}
                  <ul class="wrapper">
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">非常差</span></li>
                  </ul>    
                  {{/if}}
                   {{if data.starts==2 }}
                  <ul class="wrapper">
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">较差</span></li>
                  </ul>    
                  {{/if}}
                   {{if data.starts==3 }}
                  <ul class="wrapper">
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">一般</span></li>
                  </ul>    
                  {{/if}}
                   {{if data.starts==4 }}
                  <ul class="wrapper">
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px -20px;"></li>
                    <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">较好</span></li>
                  </ul>  
                  {{/if}}
                   {{if data.starts==5 }}
                  <ul class="wrapper">
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li class="li" style="background-position: 0px 0px;"></li>
                    <li style="background: none; width: 70px;"><span style="color: #ffb251;line-height: 0;">非常好</span></li>
                  </ul>    
                  {{/if}}            

                  {{if data.remartk != null}}
                  <p class="info_assess_content">{{data.receiveUserName}} : {{data.remartk}}</p>
                  {{/if}}
                  {{if data.commentList != null && data.commentList.length>0}}
                  {{each data.commentList as item i}}
                  <p class="info_assess_content">{{item.userName}} : {{item.content}}</p>
                  {{/each}}
                  {{/if}}
              </dl>
            </li>
          </ul>
          <div class="reply">
            <div class="box">
              <textarea placeholder="请输入您的内容（不超过300字）" id="remark_{{data.pkid}}"></textarea>
            </div>
            <p class="btn">
              <a class="replybtn" href="javascript:void(0)" onclick="saveReply('{{data.pkid}}', '{{data.pkid}}', '{{data.starts}}', '{{data.receiveUserId}}', '{{data.reportId}}')">回复</a>
              <a class="cancelbtn" href="javascript:void(0)" onclick="cleanContent('{{data.pkid}}')">取消</a>
            </p>
          </div>
        </div>

      </div>
    </div>
</script>

  <% include ../../components/_foot.art %>

  <script src="../../lib/swiper.min.js"></script>
  <script src="../informationReport/messageVistAddressInfo.js"></script>
  <script>
    $(function () {
      wxconfig();
    });
  </script>

  <!-- 评分 -->
  <script type="text/javascript">
    function showStartsNum() {
      var array = ["startsNum"];
      if (array.length > 0) {
        for (var i = 0; i < array.length; i++) {
          var instance = array[i];
          var star = $("#t_" + instance + " > ul > li");
          showStar(star, instance);
        }
      }
    }

    //点击以及改变样式
    function showStar(star, instance) {
      var temp = 0;
      for (var i = 0, len = star.length; i < len; i++) {//star.length=5
        star[i].index = i;
        star[i].onclick = function () {
          clear();//点击的时候清除样式
          temp = this.index + 1;
          $("#" + instance).val(temp);
          current(temp);
        }
      }
      //清除所有
      function clear() {
        for (var i = 0, len = star.length; i < len; i++) {
          star[i].style.backgroundPosition = '0 -20px';
        }
      }
      //显示当前第几颗星
      function current(temp) {
        if (temp == 1) {
          $("#evaluateInfo").html("非常差");
        }
        if (temp == 2) {
          $("#evaluateInfo").html("较差");
        }
        if (temp == 3) {
          $("#evaluateInfo").html("一般");
        }
        if (temp == 4) {
          $("#evaluateInfo").html("较好");
        }
        if (temp == 5) {
          $("#evaluateInfo").html("非常好");
        }
        for (var i = 0; i < temp; i++) {
          star[i].style.backgroundPosition = '0 0px';
        }
      }
    };
  </script>
</body>

</html>